# 50 行で書く自作シェル超入門

KC3 2025 学生勉強会「50 行で書く自作シェル超入門」用のリポジトリです。

## プロジェクト概要

簡易的な Unix シェルの実装プロジェクトです。C 言語を使用して基本的なシェル機能を段階的に実装していきます。50 行程度のコードで、基本的なシェルの動作原理を学ぶことができます。

### 実装する機能

このプロジェクトでは、以下の機能を持つ基本的なシェルを実装します：

1. プロンプト表示
2. コマンドライン入力の受付
3. コマンドと引数の解析
4. 外部コマンドの実行

## プロジェクト構成

```
mysh/
├── mysh.c              # メインのシェル実装
├── README.md           # このファイル
├── step0_prompt/       # Step 0: プロンプト表示の実装
│   ├── practice.c
│   ├── README.md
│   └── sample.c
├── step1_input/        # Step 1: 標準入力の取得
│   ├── practice.c
│   ├── README.md
│   └── sample.c
├── step2_parse/        # Step 2: コマンド行の解析
│   ├── practice.c
│   ├── README.md
│   └── sample.c
└── step3_exec/         # Step 3: コマンド実行
    ├── practice.c
    ├── README.md
    └── sample.c
```

## 段階的な学習

このプロジェクトは、シェルの開発を以下のステップに分けて段階的に学習できるように設計されています：

### Step 0: プロンプト表示

- C プログラムの基本構造
- 標準出力への表示
- コンパイル・実行の流れ

### Step 1: 標準入力の取得

- 標準入力からの文字列読み込み
- 文字列操作の基本（改行文字の削除）
- C 言語の配列とポインタの基本

### Step 2: コマンド行の解析

- 文字列のトークン分割
- 配列とポインタの応用

### Step 3: コマンド実行

- プロセスの作成（`fork`）
- 外部コマンドの実行（`execvp`）
- 親子プロセスの連携と待機（`wait`）

## 使い方

### メインシェルの実行

```bash
# コンパイル
gcc mysh.c -o mysh

# 実行
./mysh
```

### 各ステップの練習

各ステップのディレクトリに移動し、README.md の指示に従って練習問題に取り組むことができます。

```bash
# 例：Step 1 の練習
cd step1_input/
gcc practice.c -o practice
./practice
```

## 穴埋め練習ファイルについて

上級者向けの穴埋め練習ファイル `mysh_fillin.c` を用意しています。
このファイルは、基本的なシェル実装の重要な部分が空欄（\_\_\_\_）になっており、
自分でコードを記入して完成させることで理解を深めることができます。

### 使い方

1. `mysh_fillin.c` をエディタで開き、空欄（\_\_\_\_）部分を適切なコードで埋めてください。
2. コンパイルして動作を確認しましょう。
   ```bash
   gcc mysh_fillin.c -o mysh_fillin
   ./mysh_fillin
   ```
3. 元の `mysh.c` と見比べながら、理解を深めてください。
